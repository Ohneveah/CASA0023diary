<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA 0023 Learning Diary - Week 7 - Classification II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week 8 - SAR.html" rel="next">
<link href="./Week 6 - Classification I.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week 7 - Classification II.html">Week 7 - Classification II</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CASA 0023 Learning Diary</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Personal Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 1 - Introduction to Remote Sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1 - Introduction to Remote Sensing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 2 - Xaringan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2 - Xaringan</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 3 - Corrections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3 - Corrections</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 4 - Policy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 4 - London Flooding</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 5 - Google Earth Engine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 5 - Google Earth Engine</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 6 - Classification I.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6 - Classification I</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 7 - Classification II.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 7 - Classification II</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week 8 - SAR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 8 - SAR</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">7.1 Summary</a>
  <ul class="collapse">
  <li><a href="#object-based-image-analysis-obia" id="toc-object-based-image-analysis-obia" class="nav-link" data-scroll-target="#object-based-image-analysis-obia">Object Based Image Analysis (OBIA)</a></li>
  <li><a href="#sub-pixel-analysis" id="toc-sub-pixel-analysis" class="nav-link" data-scroll-target="#sub-pixel-analysis">Sub Pixel Analysis</a></li>
  <li><a href="#accuracy-assessment" id="toc-accuracy-assessment" class="nav-link" data-scroll-target="#accuracy-assessment">Accuracy assessment</a></li>
  <li><a href="#kappa" id="toc-kappa" class="nav-link" data-scroll-target="#kappa">Kappa</a></li>
  <li><a href="#data-is-not-balanced" id="toc-data-is-not-balanced" class="nav-link" data-scroll-target="#data-is-not-balanced">Data is not balanced</a></li>
  <li><a href="#spatial-cross-validation" id="toc-spatial-cross-validation" class="nav-link" data-scroll-target="#spatial-cross-validation">Spatial cross validation</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application">7.2 Application</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection">7.3 Reflection</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">7.4 References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 7 - Classification II</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">7.1 Summary</h2>
<section id="object-based-image-analysis-obia" class="level3">
<h3 class="anchored" data-anchor-id="object-based-image-analysis-obia">Object Based Image Analysis (OBIA)</h3>
<ul>
<li><p>Determines the number of superpixels (k) by considering similarities or differences between cells (pixels)</p></li>
<li><p>The SLIC algorithm, Simple Linear Iterative Clustering, is the most common method for generating superpixels.</p></li>
<li><p>Pixels in an image are iteratively assigned to the center of the nearest superpixel while ensuring that the generated superpixels are color and spatially consistent.</p></li>
<li><p>Objects are categorized using the extracted features and the calculated mean.</p></li>
</ul>
</section>
<section id="sub-pixel-analysis" class="level3">
<h3 class="anchored" data-anchor-id="sub-pixel-analysis">Sub Pixel Analysis</h3>
<ul>
<li>Sub pixel classification = Linear spectral unmixing = Spectral Mixture Analysis (SMA) - determines the proportion&nbsp;or&nbsp;abundance&nbsp;of landcover per pixel</li>
</ul>
</section>
<section id="accuracy-assessment" class="level3">
<h3 class="anchored" data-anchor-id="accuracy-assessment">Accuracy assessment</h3>
<p><img src="images/clipboard-811879461.png" class="img-fluid"></p>
<p>(Source: Cross Validated, 2024)</p>
<ul>
<li><p>Errors of omission = False Negative (FN) = Type II Error</p></li>
<li><p>Errors of commission = False Positive (FP) = Type I Error</p></li>
</ul>
</section>
<section id="kappa" class="level3">
<h3 class="anchored" data-anchor-id="kappa">Kappa</h3>
<ul>
<li><p>Indicates the accuracy of the image compared to chance results</p></li>
<li><p>Ranges from 0 to 1: The closer the Kappa is to 1, the higher the agreement between evaluators.</p></li>
</ul>
</section>
<section id="data-is-not-balanced" class="level3">
<h3 class="anchored" data-anchor-id="data-is-not-balanced">Data is not balanced</h3>
<ul>
<li><p>Very high producer accuracy (recall) and very high user accuracy (precision) cannot exist at the same time.</p></li>
<li><p>Model with high recall (Producer accuracy) = true positives but some false positives (predicted urban but land cover that isn’t urban)</p></li>
<li><p>Model with high precision (User’s accuracy) = actual urban but predicted other landcover</p>
<p>User’s Accuracy (Precision) = <span class="math inline">\(\frac{TP}{TP + FP}\)</span></p>
<p>Producer’s Accuracy (Recall) = <span class="math inline">\(\frac{TP}{TP + FN}\)</span></p>
<p>The <strong>F1-Score (or F Measure)</strong> combines both recall (Producer accuracy) and Precision (User accuracy)</p>
<p>F1 = <span class="math inline">\(\frac{TP}{TP + \frac{1}{2}(FP + FN)}\)</span></p>
<ul>
<li><p>Value from 0 to 1, where 1 is better performance</p></li>
<li><p>No True Negatives (TN) in the equation</p></li>
<li><p>Precision (producer): how many positive points are correct</p></li>
<li><p>Recall (user): how precise the model is at positive predictions</p></li>
</ul></li>
</ul>
<p><strong>How do we get test data for the accuracy assessment?</strong></p>
<ul>
<li><p>Same process for all:</p>
<p>Class definition</p>
<p>Pre-processing</p>
<p>Training</p>
<p>Pixel assignment</p>
<p>Accuracy assessment</p></li>
<li><p>Consider a&nbsp;<strong>sampling strategy</strong></p>
<p>Random sampling</p>
<p>Systematic sampling</p>
<p>Stratified sampling</p>
<p>Jensen</p></li>
</ul>
<p><strong>What data are used to assess the accuracy of classification models</strong></p>
<ul>
<li><p>Train and test split</p></li>
<li><p>Best approach - cross validation: take the mean accuracy</p></li>
<li><p>Leave one out cross validation: Each sample in turn is left as a test set while all the remaining samples constitute the training set. This process is repeated until each sample has been validated once as a test set.</p></li>
</ul>
</section>
<section id="spatial-cross-validation" class="level3">
<h3 class="anchored" data-anchor-id="spatial-cross-validation">Spatial cross validation</h3>
<ul>
<li><p>Avoided training data and test data close to each other (There can be spatial autocorrelation)</p></li>
<li><p>If a classificaiton model doesn’t consider spatial autocorrelation: The model will have better accuracy that it actually does.</p></li>
</ul>
</section>
</section>
<section id="application" class="level2">
<h2 class="anchored" data-anchor-id="application">7.2 Application</h2>
<p>This week explores OBIA related applications and future directions. When I was searching for OBIA related literature, I found that OBIA has a wide range of applications involving environmental monitoring, land cover, etc. I was most interested in the article I read about snowpack.</p>
<p>Thompson and Lees (2014) investigated an object-based image analysis technique for extracting snowpack features from remotely sensed data. The technique mostly accurately matched field observations, although the correlation was weak for short-term snowpack. However, the method is not seasonally restricted and effectively identified transient snowpack events at the beginning and end of the season in 2009. This study contributes to a better understanding and prediction of how climate change affects snowpack patterns.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2092211051.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
<p>(Thompson and Lees, 2014)</p>
<p>Not only that, OBIA is also linked to machine learning.Liu, et al.&nbsp;(2019) study proposed a new method combining Object-Oriented Image Analysis (OBIA) and Convolutional Neural Networks (CNNs) for land use and land cover (LULC) mapping using Sentinel optical and synthetic aperture radar (SAR) data. The method solves the problem of mismatch between CNN processing units and OBIA processing units by labeling each image object after the CNN generates the classification map. The method outperforms the traditional OBIA support vector machine (SVM) and random forest (RF) algorithms in terms of classification accuracy. In addition, it can effectively extract spatial features and maintain target boundaries, which significantly improves the classification accuracy of urban ground targets. This study provides future assistance when dealing with complex urban landscapes and contributes to understanding and managing land cover changes during urbanization.</p>
<p>Ez-zahounai et al.&nbsp;(2023) stated that the future research trend in OBIA is to combine it with deep learning in order to improve the accuracy, efficiency and interpretability of image analysis while reducing the reliance on large amounts of labeled data. However, this will be a challenge due to the lack of interpretability of deep learning.</p>
</section>
<section id="reflection" class="level2">
<h2 class="anchored" data-anchor-id="reflection">7.3 Reflection</h2>
<p>I feel that this class is quite interesting, object-based image analysis, I reviewed a lot of literature, I know that it is used in many aspects, and it is combined with machine learning is the trend of the future development, but sub-pixel analysis, I due to the limited time this week, I did not study the relevant knowledge and application of the knowledge, and I know that he has contributed to the land cover, I am curious to see what methods it can be combined with and in what areas it can be used to make great advances. In addition, this class also involves spatial interaction, related to spatial autocorrelation, which is very familiar to me, and this knowledge I have learned in the first semester of spatial autocorrelation and spatial regression analysis. So it is tempting to apply this spatial cross-validation to my thesis: spatial differentiation of house prices and the factors affecting it, which can better reflect the performance of the model in spatial data.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">7.4 References</h2>
<p>Cross Validated (2024) Available at: https://stats.stackexchange.com/questions/122225/what-is-the-best-way-to-remember-the-difference-between-sensitivity-specificity (Accessed: 8 March 2024).</p>
<p>Ez-zahouani, B., Teodoro, A., Kharki, O. E., Liu, J. H., Kotaridis, I., Yuan, X. H. and Ma, L. (2023) ‘Remote sensing imagery segmentation in object-based analysis: A review of methods, optimization, and quality evaluation over the past 20 years’, <em>Remote Sensing Applications: Society and Environment</em>, 32, 101031.</p>
<p>Liu, S. J., Qi, Z. X., Li. X. and Yeh, A. G. (2019) ‘Integration of Convolutional Neural Networks and Object-Based Post-Classification Refinement for Land Use and Land Cover Mapping with Optical and SAR Data’, <em>Urban Remote Sensing</em>, 11(6), 690.</p>
<p>Thompson, J. A.&nbsp;and&nbsp;Lees, B.G. (2014) ‘Applying object-based segmentation in the temporal domain to characterise snow seasonality’, <em>ISPRS Journal of Photogrammetry and Remote Sensing</em>,&nbsp;97, pp.&nbsp;98-110.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week 6 - Classification I.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Week 6 - Classification I</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week 8 - SAR.html" class="pagination-link">
        <span class="nav-page-text">Week 8 - SAR</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>